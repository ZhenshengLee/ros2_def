\input{pre}

\begin{tikzpicture}
    % \draw[step=1cm,gray,very thin] (0,-2) grid (10,2);
    \node (sensor) [rosnode] {S};
    \node (sensortopic) at (2,0) [topic] {M};

    \node (orchestrator) at (4,0) [rosnode] {O};

    \node (sensortopic_1) at (6,1) [topic] {P1/M};
    \node (sensortopic_2) at (6,-1) [topic] {P2/M};

    \node (perception1) at (8,1) [rosnode] {P1};
    \node (perception2) at (8,-1) [rosnode] {P2};

    \draw [arrow] (sensor) -- (sensortopic);
    \draw [arrow] (sensortopic) -- (orchestrator);
    \draw [arrow] (orchestrator) |- (sensortopic_1);
    \draw [arrow] (orchestrator) |- (sensortopic_2);
    \draw [arrow] (sensortopic_1) -- (perception1);
    \draw [arrow] (sensortopic_2) -- (perception2);
\end{tikzpicture}

\input{post}
